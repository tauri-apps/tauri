import{_ as t,a as n}from"./tauri-b00c1621.js";import{l as a,a as o,o as r}from"./event-46cfa6cd.js";function i(){return t(this,void 0,void 0,(function(){function t(){r&&r(),r=void 0}var r;return n(this,(function(n){return[2,new Promise((function(n,i){a("tauri://update-status",(function(a){var o;(o=null==a?void 0:a.payload).error?(t(),i(o.error)):"DONE"===o.status&&(t(),n())})).then((function(t){r=t})).catch((function(n){throw t(),n})),o("tauri://update-install").catch((function(n){throw t(),n}))}))]}))}))}function u(){return t(this,void 0,void 0,(function(){function t(){i&&i(),i=void 0}var i;return n(this,(function(n){return[2,new Promise((function(n,u){r("tauri://update-available",(function(a){var o;o=null==a?void 0:a.payload,t(),n({manifest:o,shouldUpdate:!0})})).catch((function(n){throw t(),n})),a("tauri://update-status",(function(a){var o;(o=null==a?void 0:a.payload).error?(t(),u(o.error)):"UPTODATE"===o.status&&(t(),n({shouldUpdate:!1}))})).then((function(t){i=t})).catch((function(n){throw t(),n})),o("tauri://update").catch((function(n){throw t(),n}))}))]}))}))}var c=Object.freeze({__proto__:null,installUpdate:i,checkUpdate:u});export{u as c,i,c as u};
